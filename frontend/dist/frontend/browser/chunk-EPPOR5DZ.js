import{a as H,b as k,c as $,d as F,e as P,f as O,g as L,h as N,i as q,j as z,k as B,l as W}from"./chunk-YUOTKHOC.js";import"./chunk-SNCYJV7K.js";import{a as j,g as b}from"./chunk-PYRLKSTA.js";import"./chunk-IUR5LZKD.js";import{e as S,h as T}from"./chunk-Y3SXRRHJ.js";import{$a as D,Ab as v,Ib as n,Na as a,R as g,Tb as l,V as _,Va as d,Vb as f,a as x,eb as u,fc as A,nb as I,ob as M,pb as E,qb as w,rb as R,sb as o,tb as c,ub as m,vb as p,zb as C}from"./chunk-2C2P2UZ5.js";var h=class e{constructor(r,t){this.http=r;this.authManager=t}url="/api/";list(r){return this.http.get(this.url+"record/"+r).toPromise().then(t=>t.map(i=>i))}static \u0275fac=function(t){return new(t||e)(_(T),_(b))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})};function Q(e,r){if(e&1&&(c(0,"th",7),l(1),m()),e&2){let t=n().$implicit;a(),f(" ",t," ")}}function U(e,r){if(e&1&&l(0),e&2){let t=n().$implicit,i=n().$implicit;f(" ",t[i].join(", ")," ")}}function V(e,r){if(e&1&&l(0),e&2){let t=n().$implicit,i=n().$implicit;f(" ",t[i]," ")}}function X(e,r){if(e&1&&(c(0,"td",8),I(1,U,1,1)(2,V,1,1),m()),e&2){let t=r.$implicit,i=n().$implicit,s=n();a(),M(s.Array.isArray(t[i])?1:2)}}function Y(e,r){if(e&1&&(C(0,2),u(1,Q,2,1,"th",5)(2,X,3,1,"td",6),v()),e&2){let t=r.$implicit;o("matColumnDef",t)}}function Z(e,r){e&1&&p(0,"tr",9)}function ee(e,r){e&1&&p(0,"tr",10)}var G=class e{constructor(r,t,i){this.entryService=r;this.cdr=t;this.ar=i;this.read(this.ar.snapshot.queryParamMap.get("id")??"")}formId="";records=[];headers=[];read(r){this.formId=r,this.entryService.list(this.formId).then(t=>{if(this.records=t.map(i=>x({checkedIn:i.checkedIn??!1?"\u2713":"",checkedInAt:new S("en").transform(i.checkedInAt??null,"medium")},i.record??{})),this.records.length>0){let i=this.records.reduce((s,y)=>Object.keys(y).length>Object.keys(s).length?y:s);this.headers=Object.keys(i)}else this.headers=[];this.cdr.detectChanges()})}Array=Array;static \u0275fac=function(t){return new(t||e)(d(h),d(A),d(j))};static \u0275cmp=D({type:e,selectors:[["app-entries"]],decls:9,vars:3,consts:[["matListItemTitle",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,i){t&1&&(C(0),c(1,"h2",0),l(2," Records "),m(),p(3,"mat-divider"),c(4,"table",1),w(5,Y,3,1,"ng-container",2,E),u(7,Z,1,0,"tr",3)(8,ee,1,0,"tr",4),m(),v()),t&2&&(a(4),o("dataSource",i.records),a(),R(i.headers),a(2),o("matHeaderRowDef",i.headers),a(),o("matRowDefColumns",i.headers))},dependencies:[B,W,H,P,$,O,k,F,q,z,L,N],encapsulation:2})};export{G as Entries};
